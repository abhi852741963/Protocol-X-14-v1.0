<body>
  <div class="terminal">
    <div class="title">[NETWORK_MAP - GLOBAL PRESENCE]</div>
    
    <div class="comment">// Global presence visualizer online. System normal.</div>
    <div class="comment">// Drag to explore. Scroll to zoom.</div>

    <!-- The container for the globe remains the same -->
    <div id="globeViz" class="globe-container"></div>
    
    <div class="title">[CONNECTION DATA LOG]</div>
    
    <table class="log-table">
      <thead>
        <tr>
          <th>[Location]</th>
          <th>[Designation]</th>
          <th>[Access Point]</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>India</td>
          <td>Home Base</td>
          <td><span class="comment">// Physical Coordinates</span></td>
        </tr>
        <tr>
          <td>Spain</td>
          <td>Chess.com Profile</td>
          <td>
            <!-- I've added data-link attributes to make the JS cleaner -->
            <span class="clickable-link" data-link="https://www.chess.com/member/elreypulga19">
              ./access --chess
            </span>
          </td>
        </tr>
        <tr>
          <td>USA</td>
          <td>Tinkercad Profile</td>
          <td>
            <span class="clickable-link" data-link="https://www.tinkercad.com/users/2y88rVNq5Sm-abhinavramms5">
              ./access --tinkercad
            </span>
          </td>
        </tr>
        <tr>
          <td>USA</td>
          <td>GitHub Repository</td>
          <td>
            <span class="clickable-link" data-link="https://github.com/abhi852741963">
              ./access --github
            </span>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="footer-nav">
      <!-- Make sure you have an index.html file for this to link to -->
      <a href="index.html">./return --menu</a>
    </div>

  </div>

<script>
  // --- DATA FOR THE GLOBE MARKERS (No change here) ---
  const gData = [
    { lat: 20.5937, lng: 78.9629, label: 'HOME', color: '#ff0066', size: 0.8 },
    { lat: 40.4168, lng: -3.7038, label: 'Chess.com', color: '#00ffcc', size: 0.5 },
    // Grouping the USA points for a single label
    { lat: 38.9637, lng: -95.7129, label: 'Tinkercad / GitHub', color: '#00ffcc', size: 0.5 }
  ];
  
  // --- REVISED GLOBE INITIALIZATION ---
  const World = Globe()
    (document.getElementById('globeViz'))
    // --- Appearance Settings ---
    // This is how you achieve the dark globe from your image.
    // It's a texture that comes with the library examples.
    .globeImageUrl('//unpkg.com/three-globe/example/img/earth-dark.jpg') 
    .backgroundColor('#00000000') // Transparent background
    .atmosphereColor('#00ffcc') // The green glow
    .atmosphereAltitude(0.2); // How far the glow extends

  // --- Data Layers ---
  // You already had these, and they were correct! They add the labels and rings.
  World.htmlElementsData(gData)
    .htmlElement(d => {
      const el = document.createElement('div');
      el.innerHTML = d.label;
      el.className = 'globe-label';
      el.style.color = d.color;
      // Special styling for the 'HOME' base to make it stand out
      if (d.label === 'HOME') {
         el.style.textShadow = '0 0 8px #ff0066, 0 0 12px #ff0066';
      }
      return el;
    })
    .htmlElementTransitionDuration(1000);

  World.ringsData(gData)
    .ringColor(d => d.color)
    .ringMaxRadius(4)
    .ringPropagationSpeed(3)
    .ringRepeatPeriod(800);

  // --- Globe Controls ---
  World.controls().autoRotate = true;
  World.controls().autoRotateSpeed = 0.5;
  World.controls().enableZoom = true; // Allow scroll-to-zoom

  // --- Camera Animation Sequence ---
  // This pans the camera to each point of interest automatically.
  const locations = [
    { lat: 20.5937, lng: 78.9629, altitude: 1.5 },   // India
    { lat: 40.4168, lng: -3.7038, altitude: 1.5 },   // Spain
    { lat: 38.9637, lng: -95.7129, altitude: 1.5 },   // USA
    { altitude: 3.5 }                                // Zoom out
  ];
  let currentLoc = 0;
  const panToNextLocation = () => {
    if (currentLoc >= locations.length) {
      currentLoc = 0; // Loop back to the start
    }
    World.pointOfView(locations[currentLoc], 3000); // 3-second transition
    currentLoc++;
  };
  
  // Start the animation and repeat every 6 seconds
  setTimeout(panToNextLocation, 1000); // Initial delay
  setInterval(panToNextLocation, 6000); // 3s transition + 3s pause

  // --- CLICKABLE LINKS IN TABLE (Your code was good, this is just slightly cleaner) ---
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.clickable-link').forEach(link => {
      link.addEventListener('click', () => {
        const url = link.getAttribute('data-link');
        if (url) { 
          window.open(url, '_blank'); 
        }
      });
    });
  });
</script>

<!-- You might not need topojson-client if you use the image texture method -->
<!-- <script src="//unpkg.com/topojson-client"></script> -->
</body>
